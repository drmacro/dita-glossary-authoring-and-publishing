<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" class="- topic/topic       reference/reference " ditaarch:DITAArchVersion="1.2" id="joh1440674602784" xml:lang="en-us">
  <title class="- topic/title ">ETM trace unit functional description</title>
  <shortdesc class="- topic/shortdesc ">This section describes the functionality of <ph class="- topic/ph ">the ETM</ph> trace
    unit.</shortdesc>
  <prolog class="- topic/prolog ">
    <permissions class="- topic/permissions " view="nonconfidential"/>
    
  </prolog>
  <refbody class="- topic/body        reference/refbody ">
    <section class="- topic/section ">
      <p class="- topic/p ">The following figure shows the main functional blocks of <ph class="- topic/ph ">the <term keyref="etm">ETM</term></ph> trace
        unit.</p>
      <fig class="- topic/fig ">
        <title class="- topic/title "> functional blocks</title>
        <image class="- topic/image " href="lau1449047620363.svg" placement="inline">
          <alt class="- topic/alt "> functional blocks</alt>
        </image>
      </fig>
      
      
      <dl class="- topic/dl ">
        <dlentry class="- topic/dlentry ">
          <dt class="- topic/dt ">Core interface</dt>
          <dd class="- topic/dd ">This block monitors the behavior of the <term keyref="core">core</term> and generates P0 elements that are essentially executed
            branches and <term keyref="exception">exception</term>s traced in program order.</dd>
        </dlentry>
        <dlentry class="- topic/dlentry ">
          <dt class="- topic/dt ">Trace generation</dt>
          <dd class="- topic/dd ">The trace generation block generates various trace packets based on P0 elements.</dd>
        </dlentry>
        <dlentry class="- topic/dlentry ">
          <dt class="- topic/dt ">Filtering and triggering resources</dt>
          <dd class="- topic/dd "><p class="- topic/p ">You can limit the amount of trace data generated by <ph class="- topic/ph ">the </ph> through the process of filtering.</p>
            <p class="- topic/p ">For example, generating trace only in a certain address range. More complicated logic analyzer style
              filtering options are also available.</p>
            <p class="- topic/p ">The  trace unit can also generate a trigger that is a signal to the trace capture <term keyref="device">device</term> to stop
              capturing trace.</p></dd>
        </dlentry>
        <dlentry class="- topic/dlentry ">
          <dt class="- topic/dt ">FIFO</dt>
          <dd class="- topic/dd "><p class="- topic/p ">The trace generated by <ph class="- topic/ph ">the </ph> trace unit is in a highly-compressed form.</p>
            <p class="- topic/p ">The FIFO enables trace bursts to be flattened out. When the FIFO becomes full, the FIFO signals an
              overflow. The trace generation logic does not generate any new trace until the FIFO is emptied. This
              causes a gap in the trace when viewed in the debugger.</p></dd>
        </dlentry>
        <dlentry class="- topic/dlentry ">
          <dt class="- topic/dt ">Trace out</dt>
          <dd class="- topic/dd ">Trace from FIFO is output on the AMBA <term keyref="atb">ATB</term> interface.</dd>
        </dlentry>
        
      </dl>
      
    </section>
  </refbody>
</reference>
